// Nextflow config for spatialvi meta-workflow
// Designed for Orca orchestration with nf-synapse:
//   1. nf-synapse SYNSTAGE  : Download from Synapse to S3
//   2. This pipeline        : Create tarballs + spatialvi samplesheet
//   3. spatialvi            : Run spatialvi
//   4. nf-synapse SYNINDEX  : Index results back to Synapse

// Input: path to CSV samplesheet (synstage output with S3 paths)
params.input = null

// S3 URI where outputs are stored
params.outdir = null

// Use cytaimage column (Cytassist tissue image) instead of image (brightfield)
params.cytassist = false

// Profiles
profiles {

  docker {
    docker.enabled = true
  }

  tower {
    process.executor = 'awsbatch'
  }

  make_tarball {
    params.entry = 'make_tarball'
  }
}
