# Tower Actions Configuration
# 
# Tower Actions can trigger pipeline runs based on events.
# This file documents how to set up chained execution.
#
# NOTE: As of 2024, Tower Actions are configured through the Tower UI,
# not via a config file. This file serves as documentation and reference.

# ============================================================================
# OPTION 1: Manual Three-Step Launch (Current Approach)
# ============================================================================
# 
# Launch each step manually in Tower:
#   1. spatialvi_nf_pipeline (--entry stage)
#   2. sagebio-ada/spatialvi 
#   3. spatialvi_nf_pipeline (--entry synindex)

# ============================================================================
# OPTION 2: Tower Actions with Webhook Triggers
# ============================================================================
#
# Set up in Tower UI (Launchpad > Actions):
#
# Action 1: "Launch spatialvi after staging"
# -----------------------------------------
# Trigger: Webhook (called when stage completes)
# Pipeline: sagebio-ada/spatialvi
# Parameters:
#   input: "${hook.staged_samplesheet}"  # passed from webhook payload
#   outdir: "${hook.outdir}/spatialvi_results"
#   spaceranger_reference: <your-ref>
#   spaceranger_probeset: <your-probeset>
#
# Action 2: "Launch synindex after spatialvi"
# -------------------------------------------
# Trigger: Webhook (called when spatialvi completes)
# Pipeline: this-repo (spatialvi_nf_pipeline)
# Parameters:
#   entry: synindex
#   input: "${hook.input}"
#   outdir: "${hook.outdir}"
#   results_parent_id: "${hook.results_parent_id}"

# ============================================================================
# OPTION 3: Tower CLI Script (Recommended for Automation)
# ============================================================================
#
# See: scripts/run_meta_workflow.sh
# This script launches all three steps sequentially using Tower CLI.

# ============================================================================
# OPTION 4: GitHub Actions / CI Integration
# ============================================================================
#
# See: .github/workflows/run_pipeline.yml (if created)
# Triggers pipeline on push to data branch or manual dispatch.
